<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title>用户登陆</title>
	<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
	<style type="text/css">
		html, body, div, img, h1, h2, h3, h4, h5, h6, input, button, span, p, b, strong, em, li, ul, ol, dl, dt,
		dd, th,textarea, select, table, form {
		    margin: 0;
		    padding: 0;
		    -webkit-user-select: none;
		    font-family: "宋体";
		}
		input {
			outline: none;
		}
		body {
			background: url('/static/images/login.png') no-repeat;
			background-size: 100% 100%;
		}
		#box {
			margin:140px auto 0 auto;
			width:400px;
			padding:20px;
			border-radius: 10px;
			height:270px;
			background-color: rgba(21, 21, 21, 0.56);
		}
		#email_name,#passwords {
			width: 200px;
		    height: 25px;
		    padding: 5px 5px 5px 10px;
		    border-radius: 10px;
		    margin-bottom: 5px;
			font-size: 12px;
		}
		#submits {
			text-align: center;
			background: rgb(252, 182, 22); 
			color: rgb(255, 255, 255); 
			font-size: 14px; 
			text-shadow: rgb(173, 60, 37) 1px 1px 1px; 
			width: 288px; 
			height: 32px; 
			border: 1px solid rgb(219, 166, 88); 
			border-radius: 5px; 
			font-weight: bold; 
			cursor: pointer;
		}
		#submits:hover {
			background: rgb(255, 192, 49); 
		}

	</style>
</head>
<body>
<div id='box'>
	<h2 style="color:#fff;">用户登陆 </h2>
	<hr style="width:100%;display:block;margin:10px 0;">
	<div style='padding:20px 0 0 50px;'>
		<p style="padding-left: 55px;">
			<label>
				<div style="float: left;line-height:25px;width:60px;font-size:14px;color:#fff;">用户名</div>
			</label>
			<input id="email_name" type="text" value="" placeholder="请输入您的账号">
		</p>
		<p style="padding-left: 55px;">
			<label>
				<div style="float: left;line-height:25px;width:60px;font-size:14px;color:#fff;">密码</div>
			</label>
			<input id="passwords" type="password" value="" placeholder="请输入您的密码">
		</p>
		<div class="checkbox" style="font-size: 12px;color:#fff;margin-bottom:20px;">
			<label>
			  <input id="remember" type="checkbox" value="" style="">记住密码
			</label>
		</div>
		<div style='float:left;'>
			<p style="text-align: center;">
				<button id="submits">登       录</button>
			</p>

		</div>
	</div>

</div>
<div class="modal fade" id="errors" tabindex="-2">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">登陆提示</h2>
            </div>
            <div class="modal-body">
                <p>您输入的用户名或密码错误。</p>
            </div>
            <div class="modal-footer">
            	<button type="button" class="btn btn-info" data-dismiss="modal">
                    取消
                </button>
                <button type="button" class="btn btn-success" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<script src="/static/js/jquery-3.1.1.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript">
	$('#submits').on('click',function(){
		var users=$('#email_name').val();
		var passwords=$('#passwords').val();
		var login_url='/mymap/mysql_user_login/?user='+users+'&password='+passwords;
		// var login_url='/group/overview/';
		function login(data) {
			var data=eval(data);
			console.log(data)
			if (data==0) {
				$('#errors').modal('show');
			}else {
				// window.open('/index/');
				window.location.href='/index/';
			};
		}
		$.ajax({
			url: login_url,
			type: 'GET',
			dataType: 'json',
			async: true,
			success:login
		});
	});
</script>
</body>
</html>